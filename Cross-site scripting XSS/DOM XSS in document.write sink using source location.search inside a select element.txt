This lab contains a DOM-based cross-site scripting vulnerability in the stock checker functionality. It uses the JavaScript document.write function, which writes data out to the page. The document.write function is called with data from location.search which you can control using the website URL. The data is enclosed within a select element.

To solve this lab, perform a cross-site scripting attack that breaks out of the select element and calls the alert function.

1. Wchodzimy na strone z zadaniem, wchodzimy w jakiś dany produkt, klikamy prawym przyciskiem myszy inspect element w devtools i szukamy storeid
2. Widzimy, że jest dużo javascript, teraz w linku dopisujemy &storeId=abcd1234 klikamy enter i widzimy, że dodało nam na dole abcd1234
3. W devtools możemy wpisać abcd1234 i sprwdzić czy nasze abcd1234 zawiera się w opcjach, następnie zamiast abcd1234 wpisujemy "></select><img src=1%20onerror=alert(1)> klikamy enter i widzimy, że wywołaliśmy alert

ENG:

1.On the product pages, notice that the dangerous JavaScript extracts a storeId parameter from the location.search source. It then uses document.write to create a new option in the select element for the stock checker functionality.
2.Add a storeId query parameter to the URL and enter a random alphanumeric string as its value. Request this modified URL.
3.In the browser, notice that your random string is now listed as one of the options in the drop-down list.
4.Right-click and inspect the drop-down list to confirm that the value of your storeId parameter has been placed inside a select element.
5.Change the URL to include a suitable XSS payload inside the storeId parameter as follows:
product?productId=1&storeId="></select><img%20src=1%20onerror=alert(1)>
